<?php
$param = "";
if (isset($_GET["page"])) {
    $page1 = ($_GET["page"]);
    $param = "&page=" . $page1;
}
$url = $_SERVER['REQUEST_URI'];

?>
<div class="col-sm-3 mt-2" id=<?php echo $row["product_id"] ?>>
    <div class="card w-100">
        <div class="img-top"><a
                href="__DIR__ ./../front_web/chitietsp.php?pro_id=<?php echo $row['product_id'] ?>&url=<?php echo $url; ?><?php echo $param; ?>"><img
                    src="./img/product/<?php echo $row['product_image'] ?>" width="100%" height="200px" alt="image"></a>
        </div>
        <div class="card-body p-1">
            <h6 class="card-title">
                <?php echo $row['product_name'] ?>
                </h5>
                <p class="card-text">
                    <?php echo $row['product_price'] ?>₫ <span style="color:black"><br>số lượng:
                        <?php echo $row['product_quantity'] ?>
                    </span>
                </p>
                <div class="text-center">
                    <?php
                    if ($row['product_quantity'] <= 0) {
                        echo "Hết hàng";
                    } else { ?>
                        <?php if (empty($_SESSION['id'])) { ?>
                            <a href="__DIR__ ./../front_web/signin.php"><button class="btn btn-outline-primary"><svg xmlns="http://www.w3.org/2000/svg"
                                        width="30" height="30" viewBox="0 0 239 180" fill="none">
                                        <path
                                            d="M12.7377 0.0606206C8.77599 0.694496 5.22834 2.8762 2.8752 6.12577C0.522057 9.37535 -0.443817 13.4266 0.190058 17.3883C0.823933 21.3501 3.00563 24.8977 6.25521 27.2509C9.50479 29.604 13.5561 30.5699 17.5178 29.936H62.3308L65.0196 37.4048L77.2685 74.7491L89.5174 112.093C90.7124 115.977 95.7913 119.562 99.6751 119.562H204.239C208.421 119.562 213.201 115.977 214.397 112.093L238.596 37.4048C239.791 33.521 237.998 29.936 233.815 29.936H101.169L89.8162 8.42573C88.607 5.9568 86.74 3.86945 84.4207 2.39352C82.1013 0.917581 79.4197 0.110319 76.671 0.0606206L16.9203 0.0606206C16.0258 -0.0202069 15.1259 -0.0202069 14.2315 0.0606206C13.6345 0.0247379 13.0359 0.0247379 12.439 0.0606206L12.7377 0.0606206ZM107.144 149.437C98.7788 149.437 92.2062 156.01 92.2062 164.375C92.2062 172.74 98.7788 179.313 107.144 179.313C115.509 179.313 122.082 172.74 122.082 164.375C122.082 156.01 115.509 149.437 107.144 149.437ZM196.77 149.437C188.405 149.437 181.832 156.01 181.832 164.375C181.832 172.74 188.405 179.313 196.77 179.313C205.135 179.313 211.708 172.74 211.708 164.375C211.708 156.01 205.135 149.437 196.77 149.437Z"
                                            fill="black" />
                                    </svg></button></a>

                        <?php } else { ?>
                            <a
                                href="__DIR__ ./../front_web/themgiohang.php?pro_id=<?php echo $row['product_id'] ?>&url=<?php echo $url; ?><?php echo $param; ?>"><button class="btn btn-outline-primary"><svg
                                        xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 239 180"
                                        fill="none">
                                        <path
                                            d="M12.7377 0.0606206C8.77599 0.694496 5.22834 2.8762 2.8752 6.12577C0.522057 9.37535 -0.443817 13.4266 0.190058 17.3883C0.823933 21.3501 3.00563 24.8977 6.25521 27.2509C9.50479 29.604 13.5561 30.5699 17.5178 29.936H62.3308L65.0196 37.4048L77.2685 74.7491L89.5174 112.093C90.7124 115.977 95.7913 119.562 99.6751 119.562H204.239C208.421 119.562 213.201 115.977 214.397 112.093L238.596 37.4048C239.791 33.521 237.998 29.936 233.815 29.936H101.169L89.8162 8.42573C88.607 5.9568 86.74 3.86945 84.4207 2.39352C82.1013 0.917581 79.4197 0.110319 76.671 0.0606206L16.9203 0.0606206C16.0258 -0.0202069 15.1259 -0.0202069 14.2315 0.0606206C13.6345 0.0247379 13.0359 0.0247379 12.439 0.0606206L12.7377 0.0606206ZM107.144 149.437C98.7788 149.437 92.2062 156.01 92.2062 164.375C92.2062 172.74 98.7788 179.313 107.144 179.313C115.509 179.313 122.082 172.74 122.082 164.375C122.082 156.01 115.509 149.437 107.144 149.437ZM196.77 149.437C188.405 149.437 181.832 156.01 181.832 164.375C181.832 172.74 188.405 179.313 196.77 179.313C205.135 179.313 211.708 172.74 211.708 164.375C211.708 156.01 205.135 149.437 196.77 149.437Z"
                                            fill="black" />
                                    </svg></button></a>
                        <?php } ?>
                    <?php } ?>
                </div>

        </div>
    </div>
</div>